import{$ as S,a as K,g as J,b as W,c as p,o as T,d as q,e as H,f as L,h as R,i as M,r as V,t as X}from"./chunks/web.b151dcb6.js";import{i as Y,c as B}from"./chunks/counterStore.fa62f660.js";const D=Symbol("store-raw"),_=Symbol("store-node"),G=Symbol("store-name");function x(n,e){let t=n[S];if(!t&&(Object.defineProperty(n,S,{value:t=new Proxy(n,Z)}),!Array.isArray(n))){const l=Object.keys(n),i=Object.getOwnPropertyDescriptors(n);for(let o=0,s=l.length;o<s;o++){const c=l[o];if(i[c].get){const r=i[c].get.bind(t);Object.defineProperty(n,c,{enumerable:i[c].enumerable,get:r})}}}return t}function a(n){let e;return n!=null&&typeof n=="object"&&(n[S]||!(e=Object.getPrototypeOf(n))||e===Object.prototype||Array.isArray(n))}function $(n,e=new Set){let t,l,i,o;if(t=n!=null&&n[D])return t;if(!a(n)||e.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):e.add(n);for(let s=0,c=n.length;s<c;s++)i=n[s],(l=$(i,e))!==i&&(n[s]=l)}else{Object.isFrozen(n)?n=Object.assign({},n):e.add(n);const s=Object.keys(n),c=Object.getOwnPropertyDescriptors(n);for(let r=0,f=s.length;r<f;r++)o=s[r],!c[o].get&&(i=n[o],(l=$(i,e))!==i&&(n[o]=l))}return n}function E(n){let e=n[_];return e||Object.defineProperty(n,_,{value:e={}}),e}function C(n,e,t){return n[e]||(n[e]=F(t))}function Q(n,e){const t=Reflect.getOwnPropertyDescriptor(n,e);return!t||t.get||!t.configurable||e===S||e===_||e===G||(delete t.value,delete t.writable,t.get=()=>n[S][e]),t}function z(n){if(J()){const e=E(n);(e._||(e._=F()))()}}function U(n){return z(n),Reflect.ownKeys(n)}function F(n){const[e,t]=p(n,{equals:!1,internal:!0});return e.$=t,e}const Z={get(n,e,t){if(e===D)return n;if(e===S)return t;if(e===K)return z(n),t;const l=E(n),i=l.hasOwnProperty(e);let o=i?l[e]():n[e];if(e===_||e==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(n,e);J()&&(typeof o!="function"||n.hasOwnProperty(e))&&!(s&&s.get)&&(o=C(l,e,o)())}return a(o)?x(o):o},has(n,e){return e===D||e===S||e===K||e===_||e==="__proto__"?!0:(this.get(n,e,n),e in n)},set(){return!0},deleteProperty(){return!0},ownKeys:U,getOwnPropertyDescriptor:Q};function b(n,e,t,l=!1){if(!l&&n[e]===t)return;const i=n[e],o=n.length;t===void 0?delete n[e]:n[e]=t;let s=E(n),c;(c=C(s,e,i))&&c.$(()=>t),Array.isArray(n)&&n.length!==o&&(c=C(s,"length",o))&&c.$(n.length),(c=s._)&&c.$()}function I(n,e){const t=Object.keys(e);for(let l=0;l<t.length;l+=1){const i=t[l];b(n,i,e[i])}}function v(n,e){if(typeof e=="function"&&(e=e(n)),e=$(e),Array.isArray(e)){if(n===e)return;let t=0,l=e.length;for(;t<l;t++){const i=e[t];n[t]!==i&&b(n,t,i)}b(n,"length",l)}else I(n,e)}function w(n,e,t=[]){let l,i=n;if(e.length>1){l=e.shift();const s=typeof l,c=Array.isArray(n);if(Array.isArray(l)){for(let r=0;r<l.length;r++)w(n,[l[r]].concat(e),t);return}else if(c&&s==="function"){for(let r=0;r<n.length;r++)l(n[r],r)&&w(n,[r].concat(e),t);return}else if(c&&s==="object"){const{from:r=0,to:f=n.length-1,by:u=1}=l;for(let d=r;d<=f;d+=u)w(n,[d].concat(e),t);return}else if(e.length>1){w(n[l],e,[l].concat(t));return}i=n[l],t=[l].concat(t)}let o=e[0];typeof o=="function"&&(o=o(i,t),o===i)||l===void 0&&o==null||(o=$(o),l===void 0||a(i)&&a(o)&&!Array.isArray(o)?I(i,o):b(n,l,o))}function m(...[n,e]){const t=$(n||{}),l=Array.isArray(t),i=x(t);function o(...s){W(()=>{l&&s.length===1?v(t,s[0]):w(t,s)})}return[i,o]}const N=Symbol("store-root");function O(n,e,t,l,i){const o=e[t];if(n===o)return;if(!a(n)||!a(o)||i&&n[i]!==o[i]){if(n!==o){if(t===N)return n;b(e,t,n)}return}if(Array.isArray(n)){if(n.length&&o.length&&(!l||i&&n[0][i]!=null)){let r,f,u,d,h,A,P,y;for(u=0,d=Math.min(o.length,n.length);u<d&&(o[u]===n[u]||i&&o[u][i]===n[u][i]);u++)O(n[u],o,u,l,i);const g=new Array(n.length),j=new Map;for(d=o.length-1,h=n.length-1;d>=u&&h>=u&&(o[d]===n[h]||i&&o[d][i]===n[h][i]);d--,h--)g[h]=o[d];if(u>h||u>d){for(f=u;f<=h;f++)b(o,f,n[f]);for(;f<n.length;f++)b(o,f,g[f]),O(n[f],o,f,l,i);o.length>n.length&&b(o,"length",n.length);return}for(P=new Array(h+1),f=h;f>=u;f--)A=n[f],y=i?A[i]:A,r=j.get(y),P[f]=r===void 0?-1:r,j.set(y,f);for(r=u;r<=d;r++)A=o[r],y=i?A[i]:A,f=j.get(y),f!==void 0&&f!==-1&&(g[f]=o[r],f=P[f],j.set(y,f));for(f=u;f<n.length;f++)f in g?(b(o,f,g[f]),O(n[f],o,f,l,i)):b(o,f,n[f])}else for(let r=0,f=n.length;r<f;r++)O(n[r],o,r,l,i);o.length>n.length&&b(o,"length",n.length);return}const s=Object.keys(n);for(let r=0,f=s.length;r<f;r++)O(n[s[r]],o,s[r],l,i);const c=Object.keys(o);for(let r=0,f=c.length;r<f;r++)n[c[r]]===void 0&&b(o,c[r],void 0)}function k(n,e={}){const{merge:t,key:l="id"}=e,i=$(n);return o=>{if(!a(o)||!a(i))return i;const s=O(i,{[N]:o},N,t,l);return s===void 0?o:s}}function nn(n){return typeof n=="object"?n===null:typeof n!="function"}function en(n){let e=n.get(),[t,l]=p(e),i=n.subscribe(o=>{l(o)});return T(()=>i()),t}function on(n){if(nn(n.get()))return en(n);let e=n.get(),[t,l]=m(e),i=n.subscribe(o=>{let s=k(o);l(s)});return T(()=>i()),q(()=>t)}const tn=X('<div><button title="A SolidJS Component">SolidJS State: <!#><!/> Shared State: <!#><!/></button></div>');function rn(){const[n,e]=p(0),t=on(B);return(()=>{const l=L(tn),i=l.firstChild,o=i.firstChild,s=o.nextSibling,[c,r]=R(s.nextSibling),f=c.nextSibling,u=f.nextSibling,[d,h]=R(u.nextSibling);return i.$$click=()=>{e(n()+1),Y()},M(i,n,c,r),M(i,t,d,h),V(),l})()}H(["click"]);export{rn as default};
